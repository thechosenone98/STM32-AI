ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"app_x-cube-ai.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.ai_log_err.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 54454D50 		.ascii	"TEMPLATE - Error (%s) - type=0x%02x code=0x%02x\015"
  20      4C415445 
  20      202D2045 
  20      72726F72 
  20      20282573 
  21 0030 0A00     		.ascii	"\012\000"
  22 0032 0000     		.align	2
  23              	.LC1:
  24 0034 54454D50 		.ascii	"TEMPLATE - Error - type=0x%02x code=0x%02x\015\012\000"
  24      4C415445 
  24      202D2045 
  24      72726F72 
  24      202D2074 
  25              		.section	.text.ai_log_err,"ax",%progbits
  26              		.align	1
  27              		.arch armv7e-m
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  31              		.fpu fpv4-sp-d16
  33              	ai_log_err:
  34              	.LVL0:
  35              	.LFB133:
  36              		.file 1 "X-CUBE-AI/App/app_x-cube-ai.c"
   1:X-CUBE-AI/App/app_x-cube-ai.c **** 
   2:X-CUBE-AI/App/app_x-cube-ai.c **** #ifdef __cplusplus
   3:X-CUBE-AI/App/app_x-cube-ai.c **** extern "C"
   4:X-CUBE-AI/App/app_x-cube-ai.c **** {
   5:X-CUBE-AI/App/app_x-cube-ai.c **** #endif
   6:X-CUBE-AI/App/app_x-cube-ai.c ****     /**
   7:X-CUBE-AI/App/app_x-cube-ai.c ****   ******************************************************************************
   8:X-CUBE-AI/App/app_x-cube-ai.c ****   * @file           : app_x-cube-ai.c
   9:X-CUBE-AI/App/app_x-cube-ai.c ****   * @brief          : AI program body
  10:X-CUBE-AI/App/app_x-cube-ai.c ****   ******************************************************************************
  11:X-CUBE-AI/App/app_x-cube-ai.c ****   * This notice applies to any and all portions of this file
  12:X-CUBE-AI/App/app_x-cube-ai.c ****   * that are not between comment pairs USER CODE BEGIN and
  13:X-CUBE-AI/App/app_x-cube-ai.c ****   * USER CODE END. Other portions of this file, whether
  14:X-CUBE-AI/App/app_x-cube-ai.c ****   * inserted by the user or by software development tools
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 2


  15:X-CUBE-AI/App/app_x-cube-ai.c ****   * are owned by their respective copyright owners.
  16:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  17:X-CUBE-AI/App/app_x-cube-ai.c ****   * Copyright (c) 2018 STMicroelectronics International N.V.
  18:X-CUBE-AI/App/app_x-cube-ai.c ****   * All rights reserved.
  19:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  20:X-CUBE-AI/App/app_x-cube-ai.c ****   * Redistribution and use in source and binary forms, with or without
  21:X-CUBE-AI/App/app_x-cube-ai.c ****   * modification, are permitted, provided that the following conditions are met:
  22:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  23:X-CUBE-AI/App/app_x-cube-ai.c ****   * 1. Redistribution of source code must retain the above copyright notice,
  24:X-CUBE-AI/App/app_x-cube-ai.c ****   *    this list of conditions and the following disclaimer.
  25:X-CUBE-AI/App/app_x-cube-ai.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  26:X-CUBE-AI/App/app_x-cube-ai.c ****   *    this list of conditions and the following disclaimer in the documentation
  27:X-CUBE-AI/App/app_x-cube-ai.c ****   *    and/or other materials provided with the distribution.
  28:X-CUBE-AI/App/app_x-cube-ai.c ****   * 3. Neither the name of STMicroelectronics nor the names of other
  29:X-CUBE-AI/App/app_x-cube-ai.c ****   *    contributors to this software may be used to endorse or promote products
  30:X-CUBE-AI/App/app_x-cube-ai.c ****   *    derived from this software without specific written permission.
  31:X-CUBE-AI/App/app_x-cube-ai.c ****   * 4. This software, including modifications and/or derivative works of this
  32:X-CUBE-AI/App/app_x-cube-ai.c ****   *    software, must execute solely and exclusively on microcontroller or
  33:X-CUBE-AI/App/app_x-cube-ai.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  34:X-CUBE-AI/App/app_x-cube-ai.c ****   * 5. Redistribution and use of this software other than as permitted under
  35:X-CUBE-AI/App/app_x-cube-ai.c ****   *    this license is void and will automatically terminate your rights under
  36:X-CUBE-AI/App/app_x-cube-ai.c ****   *    this license.
  37:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  38:X-CUBE-AI/App/app_x-cube-ai.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS"
  39:X-CUBE-AI/App/app_x-cube-ai.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT
  40:X-CUBE-AI/App/app_x-cube-ai.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
  41:X-CUBE-AI/App/app_x-cube-ai.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  42:X-CUBE-AI/App/app_x-cube-ai.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT
  43:X-CUBE-AI/App/app_x-cube-ai.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  44:X-CUBE-AI/App/app_x-cube-ai.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  45:X-CUBE-AI/App/app_x-cube-ai.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  46:X-CUBE-AI/App/app_x-cube-ai.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  47:X-CUBE-AI/App/app_x-cube-ai.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  48:X-CUBE-AI/App/app_x-cube-ai.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  49:X-CUBE-AI/App/app_x-cube-ai.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  50:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  51:X-CUBE-AI/App/app_x-cube-ai.c ****   ******************************************************************************
  52:X-CUBE-AI/App/app_x-cube-ai.c ****   */
  53:X-CUBE-AI/App/app_x-cube-ai.c ****     /*
  54:X-CUBE-AI/App/app_x-cube-ai.c ****   * Description
  55:X-CUBE-AI/App/app_x-cube-ai.c ****   *   v1.0 - Minimum template to show how to use the Embedded Client API
  56:X-CUBE-AI/App/app_x-cube-ai.c ****   *          model. Only one input and one output is supported. All
  57:X-CUBE-AI/App/app_x-cube-ai.c ****   *          memory resources are allocated statically (AI_NETWORK_XX, defines
  58:X-CUBE-AI/App/app_x-cube-ai.c ****   *          are used).
  59:X-CUBE-AI/App/app_x-cube-ai.c ****   *          Re-target of the printf function is out-of-scope.
  60:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  61:X-CUBE-AI/App/app_x-cube-ai.c ****   *   For more information, see the embeded documentation:
  62:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  63:X-CUBE-AI/App/app_x-cube-ai.c ****   *       [1] %X_CUBE_AI_DIR%/Documentation/index.html
  64:X-CUBE-AI/App/app_x-cube-ai.c ****   *
  65:X-CUBE-AI/App/app_x-cube-ai.c ****   *   X_CUBE_AI_DIR indicates the location where the X-CUBE-AI pack is installed
  66:X-CUBE-AI/App/app_x-cube-ai.c ****   *   typical : C:\Users\<user_name>\STM32Cube\Repository\STMicroelectronics\X-CUBE-AI\6.0.0
  67:X-CUBE-AI/App/app_x-cube-ai.c ****   */
  68:X-CUBE-AI/App/app_x-cube-ai.c **** /* Includes ------------------------------------------------------------------*/
  69:X-CUBE-AI/App/app_x-cube-ai.c **** /* System headers */
  70:X-CUBE-AI/App/app_x-cube-ai.c **** #include <stdint.h>
  71:X-CUBE-AI/App/app_x-cube-ai.c **** #include <stdlib.h>
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 3


  72:X-CUBE-AI/App/app_x-cube-ai.c **** #include <stdio.h>
  73:X-CUBE-AI/App/app_x-cube-ai.c **** #include <inttypes.h>
  74:X-CUBE-AI/App/app_x-cube-ai.c **** #include <string.h>
  75:X-CUBE-AI/App/app_x-cube-ai.c **** 
  76:X-CUBE-AI/App/app_x-cube-ai.c **** #include "app_x-cube-ai.h"
  77:X-CUBE-AI/App/app_x-cube-ai.c **** #include "main.h"
  78:X-CUBE-AI/App/app_x-cube-ai.c **** #include "ai_datatypes_defines.h"
  79:X-CUBE-AI/App/app_x-cube-ai.c **** 
  80:X-CUBE-AI/App/app_x-cube-ai.c **** /* USER CODE BEGIN includes */
  81:X-CUBE-AI/App/app_x-cube-ai.c **** #include "adxl345.h"
  82:X-CUBE-AI/App/app_x-cube-ai.c **** #include "usart.h"
  83:X-CUBE-AI/App/app_x-cube-ai.c **** #include "math.h"
  84:X-CUBE-AI/App/app_x-cube-ai.c ****     /* USER CODE END includes */
  85:X-CUBE-AI/App/app_x-cube-ai.c ****     /* Global AI objects */
  86:X-CUBE-AI/App/app_x-cube-ai.c ****     static ai_handle anomalydetector = AI_HANDLE_NULL;
  87:X-CUBE-AI/App/app_x-cube-ai.c ****     static ai_network_report anomalydetector_info;
  88:X-CUBE-AI/App/app_x-cube-ai.c **** 
  89:X-CUBE-AI/App/app_x-cube-ai.c ****     /* Global c-array to handle the activations buffer */
  90:X-CUBE-AI/App/app_x-cube-ai.c ****     AI_ALIGNED(4)
  91:X-CUBE-AI/App/app_x-cube-ai.c ****     static ai_u8 activations[AI_ANOMALYDETECTOR_DATA_ACTIVATIONS_SIZE];
  92:X-CUBE-AI/App/app_x-cube-ai.c **** 
  93:X-CUBE-AI/App/app_x-cube-ai.c **** /*  In the case where "--allocate-inputs" option is used, memory buffer can be
  94:X-CUBE-AI/App/app_x-cube-ai.c ****  *  used from the activations buffer. This is not mandatory.
  95:X-CUBE-AI/App/app_x-cube-ai.c ****  */
  96:X-CUBE-AI/App/app_x-cube-ai.c **** #if !defined(AI_ANOMALYDETECTOR_INPUTS_IN_ACTIVATIONS)
  97:X-CUBE-AI/App/app_x-cube-ai.c ****     /* Allocate data payload for input tensor */
  98:X-CUBE-AI/App/app_x-cube-ai.c ****     AI_ALIGNED(4)
  99:X-CUBE-AI/App/app_x-cube-ai.c ****     static ai_u8 in_data_s[AI_ANOMALYDETECTOR_IN_1_SIZE_BYTES];
 100:X-CUBE-AI/App/app_x-cube-ai.c **** #endif
 101:X-CUBE-AI/App/app_x-cube-ai.c **** 
 102:X-CUBE-AI/App/app_x-cube-ai.c **** /*  In the case where "--allocate-outputs" option is used, memory buffer can be
 103:X-CUBE-AI/App/app_x-cube-ai.c ****  *  used from the activations buffer. This is no mandatory.
 104:X-CUBE-AI/App/app_x-cube-ai.c ****  */
 105:X-CUBE-AI/App/app_x-cube-ai.c **** #if !defined(AI_ANOMALYDETECTOR_OUTPUTS_IN_ACTIVATIONS)
 106:X-CUBE-AI/App/app_x-cube-ai.c ****     /* Allocate data payload for the output tensor */
 107:X-CUBE-AI/App/app_x-cube-ai.c ****     AI_ALIGNED(4)
 108:X-CUBE-AI/App/app_x-cube-ai.c ****     static ai_u8 out_data_s[AI_ANOMALYDETECTOR_OUT_1_SIZE_BYTES];
 109:X-CUBE-AI/App/app_x-cube-ai.c **** #endif
 110:X-CUBE-AI/App/app_x-cube-ai.c **** 
 111:X-CUBE-AI/App/app_x-cube-ai.c ****     static void ai_log_err(const ai_error err, const char *fct)
 112:X-CUBE-AI/App/app_x-cube-ai.c ****     {
  37              		.loc 1 112 5 view -0
  38              		.cfi_startproc
  39              		@ Volatile: function does not return.
  40              		@ args = 0, pretend = 0, frame = 0
  41              		@ frame_needed = 0, uses_anonymous_args = 0
  42              		.loc 1 112 5 is_stmt 0 view .LVU1
  43 0000 08B5     		push	{r3, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 8
  46              		.cfi_offset 3, -8
  47              		.cfi_offset 14, -4
 113:X-CUBE-AI/App/app_x-cube-ai.c ****         /* USER CODE BEGIN log */
 114:X-CUBE-AI/App/app_x-cube-ai.c ****         if (fct)
  48              		.loc 1 114 9 is_stmt 1 view .LVU2
  49              		.loc 1 114 12 is_stmt 0 view .LVU3
  50 0002 29B1     		cbz	r1, .L2
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 4


 115:X-CUBE-AI/App/app_x-cube-ai.c ****             printf("TEMPLATE - Error (%s) - type=0x%02x code=0x%02x\r\n", fct,
  51              		.loc 1 115 13 is_stmt 1 view .LVU4
  52 0004 030A     		lsrs	r3, r0, #8
  53 0006 C2B2     		uxtb	r2, r0
  54 0008 0448     		ldr	r0, .L5
  55              	.LVL1:
  56              		.loc 1 115 13 is_stmt 0 view .LVU5
  57 000a FFF7FEFF 		bl	printf
  58              	.LVL2:
  59              	.L3:
 116:X-CUBE-AI/App/app_x-cube-ai.c ****                    err.type, err.code);
 117:X-CUBE-AI/App/app_x-cube-ai.c ****         else
 118:X-CUBE-AI/App/app_x-cube-ai.c ****             printf("TEMPLATE - Error - type=0x%02x code=0x%02x\r\n", err.type, err.code);
 119:X-CUBE-AI/App/app_x-cube-ai.c **** 
 120:X-CUBE-AI/App/app_x-cube-ai.c ****         do
  60              		.loc 1 120 9 is_stmt 1 discriminator 1 view .LVU6
 121:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 122:X-CUBE-AI/App/app_x-cube-ai.c ****         } while (1);
  61              		.loc 1 122 9 discriminator 1 view .LVU7
  62              		.loc 1 122 17 discriminator 1 view .LVU8
  63 000e FEE7     		b	.L3
  64              	.LVL3:
  65              	.L2:
 118:X-CUBE-AI/App/app_x-cube-ai.c **** 
  66              		.loc 1 118 13 view .LVU9
  67 0010 020A     		lsrs	r2, r0, #8
  68 0012 C1B2     		uxtb	r1, r0
  69              	.LVL4:
 118:X-CUBE-AI/App/app_x-cube-ai.c **** 
  70              		.loc 1 118 13 is_stmt 0 view .LVU10
  71 0014 0248     		ldr	r0, .L5+4
  72              	.LVL5:
 118:X-CUBE-AI/App/app_x-cube-ai.c **** 
  73              		.loc 1 118 13 view .LVU11
  74 0016 FFF7FEFF 		bl	printf
  75              	.LVL6:
  76 001a F8E7     		b	.L3
  77              	.L6:
  78              		.align	2
  79              	.L5:
  80 001c 00000000 		.word	.LC0
  81 0020 34000000 		.word	.LC1
  82              		.cfi_endproc
  83              	.LFE133:
  85              		.section	.rodata.ai_boostrap.str1.4,"aMS",%progbits,1
  86              		.align	2
  87              	.LC2:
  88 0000 61695F61 		.ascii	"ai_anomalydetector_create\000"
  88      6E6F6D61 
  88      6C796465 
  88      74656374 
  88      6F725F63 
  89 001a 0000     		.align	2
  90              	.LC3:
  91 001c 61695F61 		.ascii	"ai_anomalydetector_init\000"
  91      6E6F6D61 
  91      6C796465 
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 5


  91      74656374 
  91      6F725F69 
  92              		.align	2
  93              	.LC4:
  94 0034 61695F61 		.ascii	"ai_anomalydetector_get_error\000"
  94      6E6F6D61 
  94      6C796465 
  94      74656374 
  94      6F725F67 
  95              		.section	.text.ai_boostrap,"ax",%progbits
  96              		.align	1
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 100              		.fpu fpv4-sp-d16
 102              	ai_boostrap:
 103              	.LVL7:
 104              	.LFB134:
 123:X-CUBE-AI/App/app_x-cube-ai.c ****         /* USER CODE END log */
 124:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 125:X-CUBE-AI/App/app_x-cube-ai.c **** 
 126:X-CUBE-AI/App/app_x-cube-ai.c ****     static int ai_boostrap(ai_handle w_addr, ai_handle act_addr)
 127:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 105              		.loc 1 127 5 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 48
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		.loc 1 127 5 is_stmt 0 view .LVU13
 110 0000 30B5     		push	{r4, r5, lr}
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 12
 113              		.cfi_offset 4, -12
 114              		.cfi_offset 5, -8
 115              		.cfi_offset 14, -4
 116 0002 8DB0     		sub	sp, sp, #52
 117              	.LCFI2:
 118              		.cfi_def_cfa_offset 64
 119 0004 0446     		mov	r4, r0
 120 0006 0D46     		mov	r5, r1
 128:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_error err;
 121              		.loc 1 128 9 is_stmt 1 view .LVU14
 129:X-CUBE-AI/App/app_x-cube-ai.c **** 
 130:X-CUBE-AI/App/app_x-cube-ai.c ****         /* 1 - Create an instance of the model */
 131:X-CUBE-AI/App/app_x-cube-ai.c ****         err = ai_anomalydetector_create(&anomalydetector, AI_ANOMALYDETECTOR_DATA_CONFIG);
 122              		.loc 1 131 9 view .LVU15
 123              		.loc 1 131 15 is_stmt 0 view .LVU16
 124 0008 0021     		movs	r1, #0
 125              	.LVL8:
 126              		.loc 1 131 15 view .LVU17
 127 000a 2148     		ldr	r0, .L15
 128              	.LVL9:
 129              		.loc 1 131 15 view .LVU18
 130 000c FFF7FEFF 		bl	ai_anomalydetector_create
 131              	.LVL10:
 132:X-CUBE-AI/App/app_x-cube-ai.c ****         if (err.type != AI_ERROR_NONE)
 132              		.loc 1 132 9 is_stmt 1 view .LVU19
 133              		.loc 1 132 12 is_stmt 0 view .LVU20
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 6


 134 0010 10F0FF0F 		tst	r0, #255
 135 0014 2AD1     		bne	.L12
 133:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 134:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_create");
 135:X-CUBE-AI/App/app_x-cube-ai.c ****             return -1;
 136:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 137:X-CUBE-AI/App/app_x-cube-ai.c **** 
 138:X-CUBE-AI/App/app_x-cube-ai.c ****         /* 2 - Initialize the instance */
 139:X-CUBE-AI/App/app_x-cube-ai.c ****         const ai_network_params params = {
 136              		.loc 1 139 9 is_stmt 1 view .LVU21
 137              		.loc 1 139 33 is_stmt 0 view .LVU22
 138 0016 1F4B     		ldr	r3, .L15+4
 139 0018 0093     		str	r3, [sp]
 140 001a 0123     		movs	r3, #1
 141 001c ADF80430 		strh	r3, [sp, #4]	@ movhi
 142 0020 ADF80630 		strh	r3, [sp, #6]	@ movhi
 143 0024 ADF80830 		strh	r3, [sp, #8]	@ movhi
 144 0028 44F6E432 		movw	r2, #19428
 145 002c 0392     		str	r2, [sp, #12]
 146 002e 0494     		str	r4, [sp, #16]
 147 0030 0022     		movs	r2, #0
 148 0032 0592     		str	r2, [sp, #20]
 149 0034 1849     		ldr	r1, .L15+8
 150 0036 0691     		str	r1, [sp, #24]
 151 0038 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 152 003c ADF81E30 		strh	r3, [sp, #30]	@ movhi
 153 0040 ADF82030 		strh	r3, [sp, #32]	@ movhi
 154 0044 4FF4A263 		mov	r3, #1296
 155 0048 0993     		str	r3, [sp, #36]
 156 004a 0A95     		str	r5, [sp, #40]
 157 004c 0B92     		str	r2, [sp, #44]
 140:X-CUBE-AI/App/app_x-cube-ai.c ****             AI_ANOMALYDETECTOR_DATA_WEIGHTS(w_addr),
 141:X-CUBE-AI/App/app_x-cube-ai.c ****             AI_ANOMALYDETECTOR_DATA_ACTIVATIONS(act_addr)};
 142:X-CUBE-AI/App/app_x-cube-ai.c **** 
 143:X-CUBE-AI/App/app_x-cube-ai.c ****         if (!ai_anomalydetector_init(anomalydetector, &params))
 158              		.loc 1 143 9 is_stmt 1 view .LVU23
 159              		.loc 1 143 14 is_stmt 0 view .LVU24
 160 004e 6946     		mov	r1, sp
 161 0050 0F4B     		ldr	r3, .L15
 162 0052 1868     		ldr	r0, [r3]
 163              	.LVL11:
 164              		.loc 1 143 14 view .LVU25
 165 0054 FFF7FEFF 		bl	ai_anomalydetector_init
 166              	.LVL12:
 167              		.loc 1 143 12 view .LVU26
 168 0058 58B1     		cbz	r0, .L13
 144:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 145:X-CUBE-AI/App/app_x-cube-ai.c ****             err = ai_anomalydetector_get_error(anomalydetector);
 146:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_init");
 147:X-CUBE-AI/App/app_x-cube-ai.c ****             return -1;
 148:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 149:X-CUBE-AI/App/app_x-cube-ai.c **** 
 150:X-CUBE-AI/App/app_x-cube-ai.c ****         /* 3 - Retrieve the network info of the created instance */
 151:X-CUBE-AI/App/app_x-cube-ai.c ****         if (!ai_anomalydetector_get_info(anomalydetector, &anomalydetector_info))
 169              		.loc 1 151 9 is_stmt 1 view .LVU27
 170              		.loc 1 151 14 is_stmt 0 view .LVU28
 171 005a 1049     		ldr	r1, .L15+12
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 7


 172 005c 0C4B     		ldr	r3, .L15
 173 005e 1868     		ldr	r0, [r3]
 174 0060 FFF7FEFF 		bl	ai_anomalydetector_get_info
 175              	.LVL13:
 176              		.loc 1 151 12 view .LVU29
 177 0064 60B1     		cbz	r0, .L14
 152:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 153:X-CUBE-AI/App/app_x-cube-ai.c ****             err = ai_anomalydetector_get_error(anomalydetector);
 154:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_get_error");
 155:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_anomalydetector_destroy(anomalydetector);
 156:X-CUBE-AI/App/app_x-cube-ai.c ****             anomalydetector = AI_HANDLE_NULL;
 157:X-CUBE-AI/App/app_x-cube-ai.c ****             return -3;
 158:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 159:X-CUBE-AI/App/app_x-cube-ai.c **** 
 160:X-CUBE-AI/App/app_x-cube-ai.c ****         return 0;
 178              		.loc 1 160 9 is_stmt 1 view .LVU30
 161:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 179              		.loc 1 161 5 is_stmt 0 view .LVU31
 180 0066 0020     		movs	r0, #0
 181 0068 0DB0     		add	sp, sp, #52
 182              	.LCFI3:
 183              		.cfi_remember_state
 184              		.cfi_def_cfa_offset 12
 185              		@ sp needed
 186 006a 30BD     		pop	{r4, r5, pc}
 187              	.LVL14:
 188              	.L12:
 189              	.LCFI4:
 190              		.cfi_restore_state
 134:X-CUBE-AI/App/app_x-cube-ai.c ****             return -1;
 191              		.loc 1 134 13 is_stmt 1 view .LVU32
 192 006c 0C49     		ldr	r1, .L15+16
 193 006e FFF7FEFF 		bl	ai_log_err
 194              	.LVL15:
 195              	.L13:
 145:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_init");
 196              		.loc 1 145 13 view .LVU33
 145:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_init");
 197              		.loc 1 145 19 is_stmt 0 view .LVU34
 198 0072 074B     		ldr	r3, .L15
 199 0074 1868     		ldr	r0, [r3]
 200 0076 FFF7FEFF 		bl	ai_anomalydetector_get_error
 201              	.LVL16:
 146:X-CUBE-AI/App/app_x-cube-ai.c ****             return -1;
 202              		.loc 1 146 13 is_stmt 1 view .LVU35
 203 007a 0A49     		ldr	r1, .L15+20
 204 007c FFF7FEFF 		bl	ai_log_err
 205              	.LVL17:
 206              	.L14:
 153:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_get_error");
 207              		.loc 1 153 13 view .LVU36
 153:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "ai_anomalydetector_get_error");
 208              		.loc 1 153 19 is_stmt 0 view .LVU37
 209 0080 034B     		ldr	r3, .L15
 210 0082 1868     		ldr	r0, [r3]
 211 0084 FFF7FEFF 		bl	ai_anomalydetector_get_error
 212              	.LVL18:
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 8


 154:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_anomalydetector_destroy(anomalydetector);
 213              		.loc 1 154 13 is_stmt 1 view .LVU38
 214 0088 0749     		ldr	r1, .L15+24
 215 008a FFF7FEFF 		bl	ai_log_err
 216              	.LVL19:
 217              	.L16:
 218 008e 00BF     		.align	2
 219              	.L15:
 220 0090 00000000 		.word	.LANCHOR0
 221 0094 40040440 		.word	1074005056
 222 0098 40040400 		.word	263232
 223 009c 00000000 		.word	.LANCHOR1
 224 00a0 00000000 		.word	.LC2
 225 00a4 1C000000 		.word	.LC3
 226 00a8 34000000 		.word	.LC4
 227              		.cfi_endproc
 228              	.LFE134:
 230              		.section	.rodata.ai_run.str1.4,"aMS",%progbits,1
 231              		.align	2
 232              	.LC5:
 233 0000 61695F61 		.ascii	"ai_anomalydetector_run\000"
 233      6E6F6D61 
 233      6C796465 
 233      74656374 
 233      6F725F72 
 234              		.section	.text.ai_run,"ax",%progbits
 235              		.align	1
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu fpv4-sp-d16
 241              	ai_run:
 242              	.LVL20:
 243              	.LFB135:
 162:X-CUBE-AI/App/app_x-cube-ai.c **** 
 163:X-CUBE-AI/App/app_x-cube-ai.c ****     static int ai_run(void *data_in, void *data_out)
 164:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 244              		.loc 1 164 5 view -0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 0
 247              		@ frame_needed = 0, uses_anonymous_args = 0
 248              		.loc 1 164 5 is_stmt 0 view .LVU40
 249 0000 08B5     		push	{r3, lr}
 250              	.LCFI5:
 251              		.cfi_def_cfa_offset 8
 252              		.cfi_offset 3, -8
 253              		.cfi_offset 14, -4
 165:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_i32 batch;
 254              		.loc 1 165 9 is_stmt 1 view .LVU41
 166:X-CUBE-AI/App/app_x-cube-ai.c **** 
 167:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_buffer *ai_input = anomalydetector_info.inputs;
 255              		.loc 1 167 9 view .LVU42
 256              		.loc 1 167 20 is_stmt 0 view .LVU43
 257 0002 0A4A     		ldr	r2, .L21
 258 0004 536B     		ldr	r3, [r2, #52]
 259              	.LVL21:
 168:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_buffer *ai_output = anomalydetector_info.outputs;
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 9


 260              		.loc 1 168 9 is_stmt 1 view .LVU44
 261              		.loc 1 168 20 is_stmt 0 view .LVU45
 262 0006 926B     		ldr	r2, [r2, #56]
 263              	.LVL22:
 169:X-CUBE-AI/App/app_x-cube-ai.c **** 
 170:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_input[0].data = AI_HANDLE_PTR(data_in);
 264              		.loc 1 170 9 is_stmt 1 view .LVU46
 265              		.loc 1 170 26 is_stmt 0 view .LVU47
 266 0008 1861     		str	r0, [r3, #16]
 171:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_output[0].data = AI_HANDLE_PTR(data_out);
 267              		.loc 1 171 9 is_stmt 1 view .LVU48
 268              		.loc 1 171 27 is_stmt 0 view .LVU49
 269 000a 1161     		str	r1, [r2, #16]
 172:X-CUBE-AI/App/app_x-cube-ai.c **** 
 173:X-CUBE-AI/App/app_x-cube-ai.c ****         batch = ai_anomalydetector_run(anomalydetector, ai_input, ai_output);
 270              		.loc 1 173 9 is_stmt 1 view .LVU50
 271              		.loc 1 173 17 is_stmt 0 view .LVU51
 272 000c 1946     		mov	r1, r3
 273              	.LVL23:
 274              		.loc 1 173 17 view .LVU52
 275 000e 084B     		ldr	r3, .L21+4
 276              	.LVL24:
 277              		.loc 1 173 17 view .LVU53
 278 0010 1868     		ldr	r0, [r3]
 279              	.LVL25:
 280              		.loc 1 173 17 view .LVU54
 281 0012 FFF7FEFF 		bl	ai_anomalydetector_run
 282              	.LVL26:
 174:X-CUBE-AI/App/app_x-cube-ai.c ****         if (batch != 1)
 283              		.loc 1 174 9 is_stmt 1 view .LVU55
 284              		.loc 1 174 12 is_stmt 0 view .LVU56
 285 0016 0128     		cmp	r0, #1
 286 0018 01D1     		bne	.L20
 175:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 176:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(ai_anomalydetector_get_error(anomalydetector),
 177:X-CUBE-AI/App/app_x-cube-ai.c ****                        "ai_anomalydetector_run");
 178:X-CUBE-AI/App/app_x-cube-ai.c ****             return -1;
 179:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 180:X-CUBE-AI/App/app_x-cube-ai.c **** 
 181:X-CUBE-AI/App/app_x-cube-ai.c ****         return 0;
 287              		.loc 1 181 9 is_stmt 1 view .LVU57
 182:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 288              		.loc 1 182 5 is_stmt 0 view .LVU58
 289 001a 0020     		movs	r0, #0
 290              	.LVL27:
 291              		.loc 1 182 5 view .LVU59
 292 001c 08BD     		pop	{r3, pc}
 293              	.LVL28:
 294              	.L20:
 176:X-CUBE-AI/App/app_x-cube-ai.c ****                        "ai_anomalydetector_run");
 295              		.loc 1 176 13 is_stmt 1 view .LVU60
 296 001e 044B     		ldr	r3, .L21+4
 297 0020 1868     		ldr	r0, [r3]
 298              	.LVL29:
 176:X-CUBE-AI/App/app_x-cube-ai.c ****                        "ai_anomalydetector_run");
 299              		.loc 1 176 13 is_stmt 0 view .LVU61
 300 0022 FFF7FEFF 		bl	ai_anomalydetector_get_error
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 10


 301              	.LVL30:
 302 0026 0349     		ldr	r1, .L21+8
 303 0028 FFF7FEFF 		bl	ai_log_err
 304              	.LVL31:
 305              	.L22:
 306              		.align	2
 307              	.L21:
 308 002c 00000000 		.word	.LANCHOR1
 309 0030 00000000 		.word	.LANCHOR0
 310 0034 00000000 		.word	.LC5
 311              		.cfi_endproc
 312              	.LFE135:
 314              		.global	__aeabi_f2d
 315              		.global	__aeabi_dmul
 316              		.global	__aeabi_d2f
 317              		.section	.rodata.acquire_and_process_data.str1.4,"aMS",%progbits,1
 318              		.align	2
 319              	.LC6:
 320 0000 58203A20 		.ascii	"X : %f Y : %f Z : %f  \012\000"
 320      25662059 
 320      203A2025 
 320      66205A20 
 320      3A202566 
 321              		.section	.text.acquire_and_process_data,"ax",%progbits
 322              		.align	1
 323              		.global	acquire_and_process_data
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 327              		.fpu fpv4-sp-d16
 329              	acquire_and_process_data:
 330              	.LVL32:
 331              	.LFB136:
 183:X-CUBE-AI/App/app_x-cube-ai.c **** 
 184:X-CUBE-AI/App/app_x-cube-ai.c ****     /* USER CODE BEGIN 2 */
 185:X-CUBE-AI/App/app_x-cube-ai.c ****     int acquire_and_process_data(ai_u8 *data)
 186:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 332              		.loc 1 186 5 is_stmt 1 view -0
 333              		.cfi_startproc
 334              		@ args = 0, pretend = 0, frame = 280
 335              		@ frame_needed = 0, uses_anonymous_args = 0
 336              		.loc 1 186 5 is_stmt 0 view .LVU63
 337 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 338              	.LCFI6:
 339              		.cfi_def_cfa_offset 28
 340              		.cfi_offset 4, -28
 341              		.cfi_offset 5, -24
 342              		.cfi_offset 6, -20
 343              		.cfi_offset 7, -16
 344              		.cfi_offset 8, -12
 345              		.cfi_offset 9, -8
 346              		.cfi_offset 14, -4
 347 0004 CBB0     		sub	sp, sp, #300
 348              	.LCFI7:
 349              		.cfi_def_cfa_offset 328
 350 0006 0546     		mov	r5, r0
 187:X-CUBE-AI/App/app_x-cube-ai.c ****         // Get 25 sample from the accelerometer (each spaced 2 milliseconds appart, to replicate th
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 11


 188:X-CUBE-AI/App/app_x-cube-ai.c ****         Accelerations acc;
 351              		.loc 1 188 9 is_stmt 1 view .LVU64
 189:X-CUBE-AI/App/app_x-cube-ai.c ****         char message[256];
 352              		.loc 1 189 9 view .LVU65
 190:X-CUBE-AI/App/app_x-cube-ai.c ****         float acc_array[3];
 353              		.loc 1 190 9 view .LVU66
 191:X-CUBE-AI/App/app_x-cube-ai.c ****         uint8_t conv[sizeof(float)];
 354              		.loc 1 191 9 view .LVU67
 192:X-CUBE-AI/App/app_x-cube-ai.c ****         for (int i = 0; i < 25; ++i)
 355              		.loc 1 192 9 view .LVU68
 356              	.LBB2:
 357              		.loc 1 192 14 view .LVU69
 358              	.LVL33:
 359              		.loc 1 192 18 is_stmt 0 view .LVU70
 360 0008 0024     		movs	r4, #0
 361              		.loc 1 192 9 view .LVU71
 362 000a 39E0     		b	.L24
 363              	.LVL34:
 364              	.L26:
 365              	.LBB3:
 193:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 194:X-CUBE-AI/App/app_x-cube-ai.c ****             getAccelerations(&hi2c1, &acc);
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[0] = (float)acc.x * 0.0039;
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 199:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 200:X-CUBE-AI/App/app_x-cube-ai.c ****                 conv[0] = 0;
 366              		.loc 1 200 17 is_stmt 1 discriminator 3 view .LVU72
 367              		.loc 1 200 25 is_stmt 0 discriminator 3 view .LVU73
 368 000c 0022     		movs	r2, #0
 369 000e 8DF81020 		strb	r2, [sp, #16]
 201:X-CUBE-AI/App/app_x-cube-ai.c ****                 conv[1] = 0;
 370              		.loc 1 201 17 is_stmt 1 discriminator 3 view .LVU74
 371              		.loc 1 201 25 is_stmt 0 discriminator 3 view .LVU75
 372 0012 8DF81120 		strb	r2, [sp, #17]
 202:X-CUBE-AI/App/app_x-cube-ai.c ****                 conv[2] = 0;
 373              		.loc 1 202 17 is_stmt 1 discriminator 3 view .LVU76
 374              		.loc 1 202 25 is_stmt 0 discriminator 3 view .LVU77
 375 0016 8DF81220 		strb	r2, [sp, #18]
 203:X-CUBE-AI/App/app_x-cube-ai.c ****                 conv[3] = 0;
 376              		.loc 1 203 17 is_stmt 1 discriminator 3 view .LVU78
 377              		.loc 1 203 25 is_stmt 0 discriminator 3 view .LVU79
 378 001a 8DF81320 		strb	r2, [sp, #19]
 204:X-CUBE-AI/App/app_x-cube-ai.c ****                 //float2Bytes(conv, acc_array[n]);
 205:X-CUBE-AI/App/app_x-cube-ai.c ****                 memcpy(&(data[i * 3 * sizeof(float) + (n * sizeof(float))]), &acc_array[n], sizeof(
 379              		.loc 1 205 17 is_stmt 1 discriminator 3 view .LVU80
 380              		.loc 1 205 53 is_stmt 0 discriminator 3 view .LVU81
 381 001e 04EB4402 		add	r2, r4, r4, lsl #1
 382 0022 1A44     		add	r2, r2, r3
 383              		.loc 1 205 78 discriminator 3 view .LVU82
 384 0024 05A9     		add	r1, sp, #20
 385 0026 51F82310 		ldr	r1, [r1, r3, lsl #2]	@ unaligned
 386              		.loc 1 205 17 discriminator 3 view .LVU83
 387 002a 45F82210 		str	r1, [r5, r2, lsl #2]	@ unaligned
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 388              		.loc 1 198 36 is_stmt 1 discriminator 3 view .LVU84
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 12


 389 002e 0133     		adds	r3, r3, #1
 390              	.LVL35:
 391              	.L25:
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 392              		.loc 1 198 29 discriminator 1 view .LVU85
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 393              		.loc 1 198 13 is_stmt 0 discriminator 1 view .LVU86
 394 0030 022B     		cmp	r3, #2
 395 0032 EBDD     		ble	.L26
 396              	.LBE3:
 206:X-CUBE-AI/App/app_x-cube-ai.c ****                 // for (int j = 0; j < sizeof(float); ++j)
 207:X-CUBE-AI/App/app_x-cube-ai.c ****                 // {
 208:X-CUBE-AI/App/app_x-cube-ai.c ****                 //     data[(i * 3 * sizeof(float)) + (n * sizeof(float)) + j] = conv[sizeof(float)
 209:X-CUBE-AI/App/app_x-cube-ai.c ****                 // }
 210:X-CUBE-AI/App/app_x-cube-ai.c ****             }
 211:X-CUBE-AI/App/app_x-cube-ai.c ****             sprintf(message, "X : %f Y : %f Z : %f  \n", acc_array[0], acc_array[1], acc_array[2]);
 397              		.loc 1 211 13 is_stmt 1 discriminator 2 view .LVU87
 398              		.loc 1 211 81 is_stmt 0 discriminator 2 view .LVU88
 399 0034 DDF81880 		ldr	r8, [sp, #24]	@ float
 400              		.loc 1 211 95 discriminator 2 view .LVU89
 401 0038 DDF81C90 		ldr	r9, [sp, #28]	@ float
 402              		.loc 1 211 13 discriminator 2 view .LVU90
 403 003c 0598     		ldr	r0, [sp, #20]	@ float
 404 003e FFF7FEFF 		bl	__aeabi_f2d
 405              	.LVL36:
 406              		.loc 1 211 13 discriminator 2 view .LVU91
 407 0042 0646     		mov	r6, r0
 408 0044 0F46     		mov	r7, r1
 409 0046 4846     		mov	r0, r9	@ float
 410 0048 FFF7FEFF 		bl	__aeabi_f2d
 411              	.LVL37:
 412 004c CDE90201 		strd	r0, [sp, #8]
 413 0050 4046     		mov	r0, r8	@ float
 414 0052 FFF7FEFF 		bl	__aeabi_f2d
 415              	.LVL38:
 416 0056 CDE90001 		strd	r0, [sp]
 417 005a 3246     		mov	r2, r6
 418 005c 3B46     		mov	r3, r7
 419 005e 2C49     		ldr	r1, .L30+8
 420 0060 08A8     		add	r0, sp, #32
 421 0062 FFF7FEFF 		bl	sprintf
 422              	.LVL39:
 212:X-CUBE-AI/App/app_x-cube-ai.c ****             HAL_UART_Transmit(&huart2, message, strlen(message), 100);
 423              		.loc 1 212 13 is_stmt 1 discriminator 2 view .LVU92
 424              		.loc 1 212 49 is_stmt 0 discriminator 2 view .LVU93
 425 0066 08A8     		add	r0, sp, #32
 426 0068 FFF7FEFF 		bl	strlen
 427              	.LVL40:
 428              		.loc 1 212 13 discriminator 2 view .LVU94
 429 006c 6423     		movs	r3, #100
 430 006e 82B2     		uxth	r2, r0
 431 0070 08A9     		add	r1, sp, #32
 432 0072 2848     		ldr	r0, .L30+12
 433 0074 FFF7FEFF 		bl	HAL_UART_Transmit
 434              	.LVL41:
 213:X-CUBE-AI/App/app_x-cube-ai.c ****             HAL_Delay(2);
 435              		.loc 1 213 13 is_stmt 1 discriminator 2 view .LVU95
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 13


 436 0078 0220     		movs	r0, #2
 437 007a FFF7FEFF 		bl	HAL_Delay
 438              	.LVL42:
 192:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 439              		.loc 1 192 33 discriminator 2 view .LVU96
 440 007e 0134     		adds	r4, r4, #1
 441              	.LVL43:
 442              	.L24:
 192:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 443              		.loc 1 192 25 discriminator 1 view .LVU97
 192:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 444              		.loc 1 192 9 is_stmt 0 discriminator 1 view .LVU98
 445 0080 182C     		cmp	r4, #24
 446 0082 3BDC     		bgt	.L29
 194:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[0] = (float)acc.x * 0.0039;
 447              		.loc 1 194 13 is_stmt 1 view .LVU99
 448 0084 48A9     		add	r1, sp, #288
 449 0086 2448     		ldr	r0, .L30+16
 450 0088 FFF7FEFF 		bl	getAccelerations
 451              	.LVL44:
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 452              		.loc 1 195 13 view .LVU100
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 453              		.loc 1 195 38 is_stmt 0 view .LVU101
 454 008c BDF92001 		ldrsh	r0, [sp, #288]
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 455              		.loc 1 195 28 view .LVU102
 456 0090 07EE900A 		vmov	s15, r0	@ int
 457 0094 F8EEE77A 		vcvt.f32.s32	s15, s15
 458 0098 17EE900A 		vmov	r0, s15
 459 009c FFF7FEFF 		bl	__aeabi_f2d
 460              	.LVL45:
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 461              		.loc 1 195 41 view .LVU103
 462 00a0 19A3     		adr	r3, .L30
 463 00a2 D3E90023 		ldrd	r2, [r3]
 464 00a6 FFF7FEFF 		bl	__aeabi_dmul
 465              	.LVL46:
 466 00aa FFF7FEFF 		bl	__aeabi_d2f
 467              	.LVL47:
 195:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[1] = (float)acc.y * 0.0039;
 468              		.loc 1 195 26 view .LVU104
 469 00ae 0590     		str	r0, [sp, #20]	@ float
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 470              		.loc 1 196 13 is_stmt 1 view .LVU105
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 471              		.loc 1 196 38 is_stmt 0 view .LVU106
 472 00b0 BDF92201 		ldrsh	r0, [sp, #290]
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 473              		.loc 1 196 28 view .LVU107
 474 00b4 07EE900A 		vmov	s15, r0	@ int
 475 00b8 F8EEE77A 		vcvt.f32.s32	s15, s15
 476 00bc 17EE900A 		vmov	r0, s15
 477 00c0 FFF7FEFF 		bl	__aeabi_f2d
 478              	.LVL48:
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 479              		.loc 1 196 41 view .LVU108
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 14


 480 00c4 10A3     		adr	r3, .L30
 481 00c6 D3E90023 		ldrd	r2, [r3]
 482 00ca FFF7FEFF 		bl	__aeabi_dmul
 483              	.LVL49:
 484 00ce FFF7FEFF 		bl	__aeabi_d2f
 485              	.LVL50:
 196:X-CUBE-AI/App/app_x-cube-ai.c ****             acc_array[2] = (float)acc.z * 0.0039;
 486              		.loc 1 196 26 view .LVU109
 487 00d2 0690     		str	r0, [sp, #24]	@ float
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 488              		.loc 1 197 13 is_stmt 1 view .LVU110
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 489              		.loc 1 197 38 is_stmt 0 view .LVU111
 490 00d4 BDF92401 		ldrsh	r0, [sp, #292]
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 491              		.loc 1 197 28 view .LVU112
 492 00d8 07EE900A 		vmov	s15, r0	@ int
 493 00dc F8EEE77A 		vcvt.f32.s32	s15, s15
 494 00e0 17EE900A 		vmov	r0, s15
 495 00e4 FFF7FEFF 		bl	__aeabi_f2d
 496              	.LVL51:
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 497              		.loc 1 197 41 view .LVU113
 498 00e8 07A3     		adr	r3, .L30
 499 00ea D3E90023 		ldrd	r2, [r3]
 500 00ee FFF7FEFF 		bl	__aeabi_dmul
 501              	.LVL52:
 502 00f2 FFF7FEFF 		bl	__aeabi_d2f
 503              	.LVL53:
 197:X-CUBE-AI/App/app_x-cube-ai.c ****             for (int n = 0; n < 3; ++n)
 504              		.loc 1 197 26 view .LVU114
 505 00f6 0790     		str	r0, [sp, #28]	@ float
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 506              		.loc 1 198 13 is_stmt 1 view .LVU115
 507              	.LBB4:
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 508              		.loc 1 198 18 view .LVU116
 509              	.LVL54:
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 510              		.loc 1 198 22 is_stmt 0 view .LVU117
 511 00f8 0023     		movs	r3, #0
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 512              		.loc 1 198 13 view .LVU118
 513 00fa 99E7     		b	.L25
 514              	.LVL55:
 515              	.L29:
 198:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 516              		.loc 1 198 13 view .LVU119
 517              	.LBE4:
 518              	.LBE2:
 214:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 215:X-CUBE-AI/App/app_x-cube-ai.c ****         return 0;
 519              		.loc 1 215 9 is_stmt 1 view .LVU120
 216:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 520              		.loc 1 216 5 is_stmt 0 view .LVU121
 521 00fc 0020     		movs	r0, #0
 522 00fe 4BB0     		add	sp, sp, #300
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 15


 523              	.LCFI8:
 524              		.cfi_def_cfa_offset 28
 525              		@ sp needed
 526 0100 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 527              	.LVL56:
 528              	.L31:
 529              		.loc 1 216 5 view .LVU122
 530 0104 AFF30080 		.align	3
 531              	.L30:
 532 0108 DE718A8E 		.word	-1903529506
 533 010c E4F26F3F 		.word	1064301284
 534 0110 00000000 		.word	.LC6
 535 0114 00000000 		.word	huart2
 536 0118 00000000 		.word	hi2c1
 537              		.cfi_endproc
 538              	.LFE136:
 540              		.section	.rodata.post_process.str1.4,"aMS",%progbits,1
 541              		.align	2
 542              	.LC7:
 543 0000 4572726F 		.ascii	"Error_1 : %f\012Error_2 : %f\012Normal : %f\012Off "
 543      725F3120 
 543      3A202566 
 543      0A457272 
 543      6F725F32 
 544 002a 3A202566 		.ascii	": %f\012\000"
 544      0A00
 545              		.section	.text.post_process,"ax",%progbits
 546              		.align	1
 547              		.global	post_process
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 551              		.fpu fpv4-sp-d16
 553              	post_process:
 554              	.LVL57:
 555              	.LFB137:
 217:X-CUBE-AI/App/app_x-cube-ai.c **** 
 218:X-CUBE-AI/App/app_x-cube-ai.c ****     int post_process(ai_u8 *data)
 219:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 556              		.loc 1 219 5 is_stmt 1 view -0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 120
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560              		.loc 1 219 5 is_stmt 0 view .LVU124
 561 0000 D0B5     		push	{r4, r6, r7, lr}
 562              	.LCFI9:
 563              		.cfi_def_cfa_offset 16
 564              		.cfi_offset 4, -16
 565              		.cfi_offset 6, -12
 566              		.cfi_offset 7, -8
 567              		.cfi_offset 14, -4
 568 0002 A4B0     		sub	sp, sp, #144
 569              	.LCFI10:
 570              		.cfi_def_cfa_offset 160
 220:X-CUBE-AI/App/app_x-cube-ai.c ****         char message[100];
 571              		.loc 1 220 9 is_stmt 1 view .LVU125
 221:X-CUBE-AI/App/app_x-cube-ai.c ****         float result = 0.0;
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 16


 572              		.loc 1 221 9 view .LVU126
 573              	.LVL58:
 222:X-CUBE-AI/App/app_x-cube-ai.c ****         float output_array[4];
 574              		.loc 1 222 9 view .LVU127
 223:X-CUBE-AI/App/app_x-cube-ai.c ****         float biggest = 0.0;
 575              		.loc 1 223 9 view .LVU128
 224:X-CUBE-AI/App/app_x-cube-ai.c ****         int biggest_index = 0;
 576              		.loc 1 224 9 view .LVU129
 225:X-CUBE-AI/App/app_x-cube-ai.c ****         uint8_t bytes[4];
 577              		.loc 1 225 9 view .LVU130
 226:X-CUBE-AI/App/app_x-cube-ai.c ****         for(int i = 0; i < 4; ++i){
 578              		.loc 1 226 9 view .LVU131
 579              	.LBB5:
 580              		.loc 1 226 13 view .LVU132
 581              		.loc 1 226 17 is_stmt 0 view .LVU133
 582 0004 0023     		movs	r3, #0
 583              	.LBE5:
 224:X-CUBE-AI/App/app_x-cube-ai.c ****         int biggest_index = 0;
 584              		.loc 1 224 13 view .LVU134
 585 0006 1C46     		mov	r4, r3
 223:X-CUBE-AI/App/app_x-cube-ai.c ****         int biggest_index = 0;
 586              		.loc 1 223 15 view .LVU135
 587 0008 9FED257A 		vldr.32	s14, .L39
 588              	.LBB6:
 589              		.loc 1 226 9 view .LVU136
 590 000c 00E0     		b	.L33
 591              	.LVL59:
 592              	.L34:
 593              		.loc 1 226 31 is_stmt 1 discriminator 2 view .LVU137
 594 000e 0133     		adds	r3, r3, #1
 595              	.LVL60:
 596              	.L33:
 597              		.loc 1 226 24 discriminator 1 view .LVU138
 598              		.loc 1 226 9 is_stmt 0 discriminator 1 view .LVU139
 599 0010 032B     		cmp	r3, #3
 600 0012 1EDC     		bgt	.L38
 227:X-CUBE-AI/App/app_x-cube-ai.c ****             bytes[0] = data[i * sizeof(float) + 0];
 601              		.loc 1 227 13 is_stmt 1 view .LVU140
 602              		.loc 1 227 28 is_stmt 0 view .LVU141
 603 0014 10F82320 		ldrb	r2, [r0, r3, lsl #2]	@ zero_extendqisi2
 604              		.loc 1 227 22 view .LVU142
 605 0018 8DF81820 		strb	r2, [sp, #24]
 228:X-CUBE-AI/App/app_x-cube-ai.c ****             bytes[1] = data[i * sizeof(float) + 1];
 606              		.loc 1 228 13 is_stmt 1 view .LVU143
 607              		.loc 1 228 28 is_stmt 0 view .LVU144
 608 001c 00EB8302 		add	r2, r0, r3, lsl #2
 609 0020 5178     		ldrb	r1, [r2, #1]	@ zero_extendqisi2
 610              		.loc 1 228 22 view .LVU145
 611 0022 8DF81910 		strb	r1, [sp, #25]
 229:X-CUBE-AI/App/app_x-cube-ai.c ****             bytes[2] = data[i * sizeof(float) + 2];
 612              		.loc 1 229 13 is_stmt 1 view .LVU146
 613              		.loc 1 229 28 is_stmt 0 view .LVU147
 614 0026 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 615              		.loc 1 229 22 view .LVU148
 616 0028 8DF81A10 		strb	r1, [sp, #26]
 230:X-CUBE-AI/App/app_x-cube-ai.c ****             bytes[3] = data[i * sizeof(float) + 3];
 617              		.loc 1 230 13 is_stmt 1 view .LVU149
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 17


 618              		.loc 1 230 28 is_stmt 0 view .LVU150
 619 002c D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 620              		.loc 1 230 22 view .LVU151
 621 002e 8DF81B20 		strb	r2, [sp, #27]
 231:X-CUBE-AI/App/app_x-cube-ai.c ****             result = *(float *)&bytes;
 622              		.loc 1 231 13 is_stmt 1 view .LVU152
 623              		.loc 1 231 20 is_stmt 0 view .LVU153
 624 0032 DDED067A 		vldr.32	s15, [sp, #24]
 625              	.LVL61:
 232:X-CUBE-AI/App/app_x-cube-ai.c ****             output_array[i] = result;
 626              		.loc 1 232 13 is_stmt 1 view .LVU154
 627              		.loc 1 232 29 is_stmt 0 view .LVU155
 628 0036 24AA     		add	r2, sp, #144
 629 0038 02EB8302 		add	r2, r2, r3, lsl #2
 630 003c 42ED1D7A 		vstr.32	s15, [r2, #-116]
 233:X-CUBE-AI/App/app_x-cube-ai.c ****             if (result > biggest){
 631              		.loc 1 233 13 is_stmt 1 view .LVU156
 632              		.loc 1 233 16 is_stmt 0 view .LVU157
 633 0040 B4EEE77A 		vcmpe.f32	s14, s15
 634 0044 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 635 0048 E1D5     		bpl	.L34
 234:X-CUBE-AI/App/app_x-cube-ai.c ****                 biggest = result;
 235:X-CUBE-AI/App/app_x-cube-ai.c ****                 biggest_index = i;
 636              		.loc 1 235 31 view .LVU158
 637 004a 1C46     		mov	r4, r3
 638              	.LVL62:
 234:X-CUBE-AI/App/app_x-cube-ai.c ****                 biggest = result;
 639              		.loc 1 234 25 view .LVU159
 640 004c B0EE677A 		vmov.f32	s14, s15
 641              	.LVL63:
 234:X-CUBE-AI/App/app_x-cube-ai.c ****                 biggest = result;
 642              		.loc 1 234 25 view .LVU160
 643 0050 DDE7     		b	.L34
 644              	.LVL64:
 645              	.L38:
 234:X-CUBE-AI/App/app_x-cube-ai.c ****                 biggest = result;
 646              		.loc 1 234 25 view .LVU161
 647              	.LBE6:
 236:X-CUBE-AI/App/app_x-cube-ai.c ****             }
 237:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 238:X-CUBE-AI/App/app_x-cube-ai.c ****         sprintf(message, "Error_1 : %f\nError_2 : %f\nNormal : %f\nOff : %f\n", output_array[0], ou
 648              		.loc 1 238 9 is_stmt 1 view .LVU162
 649 0052 0798     		ldr	r0, [sp, #28]	@ float
 650              	.LVL65:
 651              		.loc 1 238 9 is_stmt 0 view .LVU163
 652 0054 FFF7FEFF 		bl	__aeabi_f2d
 653              	.LVL66:
 654              		.loc 1 238 9 view .LVU164
 655 0058 0646     		mov	r6, r0
 656 005a 0F46     		mov	r7, r1
 657 005c 0A98     		ldr	r0, [sp, #40]	@ float
 658 005e FFF7FEFF 		bl	__aeabi_f2d
 659              	.LVL67:
 660 0062 CDE90401 		strd	r0, [sp, #16]
 661 0066 0998     		ldr	r0, [sp, #36]	@ float
 662 0068 FFF7FEFF 		bl	__aeabi_f2d
 663              	.LVL68:
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 18


 664 006c CDE90201 		strd	r0, [sp, #8]
 665 0070 0898     		ldr	r0, [sp, #32]	@ float
 666 0072 FFF7FEFF 		bl	__aeabi_f2d
 667              	.LVL69:
 668 0076 CDE90001 		strd	r0, [sp]
 669 007a 3246     		mov	r2, r6
 670 007c 3B46     		mov	r3, r7
 671 007e 0949     		ldr	r1, .L39+4
 672 0080 0BA8     		add	r0, sp, #44
 673 0082 FFF7FEFF 		bl	sprintf
 674              	.LVL70:
 239:X-CUBE-AI/App/app_x-cube-ai.c ****         HAL_UART_Transmit(&huart2, message, strlen(message), 100);
 675              		.loc 1 239 9 is_stmt 1 view .LVU165
 676              		.loc 1 239 45 is_stmt 0 view .LVU166
 677 0086 0BA8     		add	r0, sp, #44
 678 0088 FFF7FEFF 		bl	strlen
 679              	.LVL71:
 680              		.loc 1 239 9 view .LVU167
 681 008c 6423     		movs	r3, #100
 682 008e 82B2     		uxth	r2, r0
 683 0090 0BA9     		add	r1, sp, #44
 684 0092 0548     		ldr	r0, .L39+8
 685 0094 FFF7FEFF 		bl	HAL_UART_Transmit
 686              	.LVL72:
 240:X-CUBE-AI/App/app_x-cube-ai.c ****         return biggest_index;
 687              		.loc 1 240 9 is_stmt 1 view .LVU168
 241:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 688              		.loc 1 241 5 is_stmt 0 view .LVU169
 689 0098 2046     		mov	r0, r4
 690 009a 24B0     		add	sp, sp, #144
 691              	.LCFI11:
 692              		.cfi_def_cfa_offset 16
 693              		@ sp needed
 694 009c D0BD     		pop	{r4, r6, r7, pc}
 695              	.LVL73:
 696              	.L40:
 697              		.loc 1 241 5 view .LVU170
 698 009e 00BF     		.align	2
 699              	.L39:
 700 00a0 00000000 		.word	0
 701 00a4 00000000 		.word	.LC7
 702 00a8 00000000 		.word	huart2
 703              		.cfi_endproc
 704              	.LFE137:
 706              		.section	.rodata.MX_X_CUBE_AI_Init.str1.4,"aMS",%progbits,1
 707              		.align	2
 708              	.LC8:
 709 0000 0D0A5445 		.ascii	"\015\012TEMPLATE - initialization\015\000"
 709      4D504C41 
 709      5445202D 
 709      20696E69 
 709      7469616C 
 710              		.section	.text.MX_X_CUBE_AI_Init,"ax",%progbits
 711              		.align	1
 712              		.global	MX_X_CUBE_AI_Init
 713              		.syntax unified
 714              		.thumb
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 19


 715              		.thumb_func
 716              		.fpu fpv4-sp-d16
 718              	MX_X_CUBE_AI_Init:
 719              	.LFB138:
 242:X-CUBE-AI/App/app_x-cube-ai.c ****     /* USER CODE END 2 */
 243:X-CUBE-AI/App/app_x-cube-ai.c **** 
 244:X-CUBE-AI/App/app_x-cube-ai.c ****     /*************************************************************************
 245:X-CUBE-AI/App/app_x-cube-ai.c ****   *
 246:X-CUBE-AI/App/app_x-cube-ai.c ****   */
 247:X-CUBE-AI/App/app_x-cube-ai.c ****     void MX_X_CUBE_AI_Init(void)
 248:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 720              		.loc 1 248 5 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 724 0000 08B5     		push	{r3, lr}
 725              	.LCFI12:
 726              		.cfi_def_cfa_offset 8
 727              		.cfi_offset 3, -8
 728              		.cfi_offset 14, -4
 249:X-CUBE-AI/App/app_x-cube-ai.c ****         /* USER CODE BEGIN 5 */
 250:X-CUBE-AI/App/app_x-cube-ai.c ****         printf("\r\nTEMPLATE - initialization\r\n");
 729              		.loc 1 250 9 view .LVU172
 730 0002 0448     		ldr	r0, .L43
 731 0004 FFF7FEFF 		bl	puts
 732              	.LVL74:
 251:X-CUBE-AI/App/app_x-cube-ai.c **** 
 252:X-CUBE-AI/App/app_x-cube-ai.c ****         ai_boostrap(ai_anomalydetector_data_weights_get(), activations);
 733              		.loc 1 252 9 view .LVU173
 734 0008 FFF7FEFF 		bl	ai_anomalydetector_data_weights_get
 735              	.LVL75:
 736 000c 0249     		ldr	r1, .L43+4
 737 000e FFF7FEFF 		bl	ai_boostrap
 738              	.LVL76:
 253:X-CUBE-AI/App/app_x-cube-ai.c ****         /* USER CODE END 5 */
 254:X-CUBE-AI/App/app_x-cube-ai.c ****     }
 739              		.loc 1 254 5 is_stmt 0 view .LVU174
 740 0012 08BD     		pop	{r3, pc}
 741              	.L44:
 742              		.align	2
 743              	.L43:
 744 0014 00000000 		.word	.LC8
 745 0018 00000000 		.word	.LANCHOR2
 746              		.cfi_endproc
 747              	.LFE138:
 749              		.section	.rodata.MX_X_CUBE_AI_Process.str1.4,"aMS",%progbits,1
 750              		.align	2
 751              	.LC9:
 752 0000 53746172 		.ascii	"Starting AI subroutine!\012\000"
 752      74696E67 
 752      20414920 
 752      73756272 
 752      6F757469 
 753 0019 000000   		.align	2
 754              	.LC10:
 755 001c 54454D50 		.ascii	"TEMPLATE - run - main loop\015\000"
 755      4C415445 
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 20


 755      202D2072 
 755      756E202D 
 755      206D6169 
 756              		.align	2
 757              	.LC11:
 758 0038 74656D70 		.ascii	"template code should be updated\015\012 to support "
 758      6C617465 
 758      20636F64 
 758      65207368 
 758      6F756C64 
 759 0065 61206D6F 		.ascii	"a model with multiple IO\000"
 759      64656C20 
 759      77697468 
 759      206D756C 
 759      7469706C 
 760 007e 0000     		.align	2
 761              	.LC12:
 762 0080 44617461 		.ascii	"Data arrays correctly initialized!\012\000"
 762      20617272 
 762      61797320 
 762      636F7272 
 762      6563746C 
 763              		.align	2
 764              	.LC13:
 765 00a4 41637175 		.ascii	"Acquiring data!\012\000"
 765      6972696E 
 765      67206461 
 765      7461210A 
 765      00
 766 00b5 000000   		.align	2
 767              	.LC14:
 768 00b8 496E6665 		.ascii	"Infering result!\012\000"
 768      72696E67 
 768      20726573 
 768      756C7421 
 768      0A00
 769 00ca 0000     		.align	2
 770              	.LC15:
 771 00cc 506F7374 		.ascii	"Post processing!\012\000"
 771      2070726F 
 771      63657373 
 771      696E6721 
 771      0A00
 772 00de 0000     		.align	2
 773              	.LC16:
 774 00e0 4572726F 		.ascii	"Error_1\012\000"
 774      725F310A 
 774      00
 775 00e9 000000   		.align	2
 776              	.LC17:
 777 00ec 4572726F 		.ascii	"Error_2\012\000"
 777      725F320A 
 777      00
 778 00f5 000000   		.align	2
 779              	.LC18:
 780 00f8 4E6F726D 		.ascii	"Normal\012\000"
 780      616C0A00 
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 21


 781              		.align	2
 782              	.LC19:
 783 0100 4F66660A 		.ascii	"Off\012\000"
 783      00
 784 0105 000000   		.align	2
 785              	.LC20:
 786 0108 496E6665 		.ascii	"Inference completed, next round coming up!\012\000"
 786      72656E63 
 786      6520636F 
 786      6D706C65 
 786      7465642C 
 787              		.align	2
 788              	.LC21:
 789 0134 50726F63 		.ascii	"Process has FAILED\000"
 789      65737320 
 789      68617320 
 789      4641494C 
 789      454400
 790              		.section	.text.MX_X_CUBE_AI_Process,"ax",%progbits
 791              		.align	1
 792              		.global	MX_X_CUBE_AI_Process
 793              		.syntax unified
 794              		.thumb
 795              		.thumb_func
 796              		.fpu fpv4-sp-d16
 798              	MX_X_CUBE_AI_Process:
 799              	.LFB139:
 255:X-CUBE-AI/App/app_x-cube-ai.c **** 
 256:X-CUBE-AI/App/app_x-cube-ai.c ****     void MX_X_CUBE_AI_Process(void)
 257:X-CUBE-AI/App/app_x-cube-ai.c ****     {
 800              		.loc 1 257 5 is_stmt 1 view -0
 801              		.cfi_startproc
 802              		@ args = 0, pretend = 0, frame = 0
 803              		@ frame_needed = 0, uses_anonymous_args = 0
 804 0000 10B5     		push	{r4, lr}
 805              	.LCFI13:
 806              		.cfi_def_cfa_offset 8
 807              		.cfi_offset 4, -8
 808              		.cfi_offset 14, -4
 258:X-CUBE-AI/App/app_x-cube-ai.c ****         /* USER CODE BEGIN 6 */
 259:X-CUBE-AI/App/app_x-cube-ai.c ****         HAL_UART_Transmit(&huart2, (uint8_t *)"Starting AI subroutine!\n", 24, 100);
 809              		.loc 1 259 9 view .LVU176
 810 0002 6423     		movs	r3, #100
 811 0004 1822     		movs	r2, #24
 812 0006 4549     		ldr	r1, .L61
 813 0008 4548     		ldr	r0, .L61+4
 814 000a FFF7FEFF 		bl	HAL_UART_Transmit
 815              	.LVL77:
 260:X-CUBE-AI/App/app_x-cube-ai.c ****         int res = -1;
 816              		.loc 1 260 9 view .LVU177
 261:X-CUBE-AI/App/app_x-cube-ai.c ****         uint8_t *in_data = NULL;
 817              		.loc 1 261 9 view .LVU178
 262:X-CUBE-AI/App/app_x-cube-ai.c ****         uint8_t *out_data = NULL;
 818              		.loc 1 262 9 view .LVU179
 263:X-CUBE-AI/App/app_x-cube-ai.c **** 
 264:X-CUBE-AI/App/app_x-cube-ai.c ****         printf("TEMPLATE - run - main loop\r\n");
 819              		.loc 1 264 9 view .LVU180
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 22


 820 000e 4548     		ldr	r0, .L61+8
 821 0010 FFF7FEFF 		bl	puts
 822              	.LVL78:
 265:X-CUBE-AI/App/app_x-cube-ai.c **** 
 266:X-CUBE-AI/App/app_x-cube-ai.c ****         if (anomalydetector)
 823              		.loc 1 266 9 view .LVU181
 824              		.loc 1 266 13 is_stmt 0 view .LVU182
 825 0014 444B     		ldr	r3, .L61+12
 826 0016 1B68     		ldr	r3, [r3]
 827              		.loc 1 266 12 view .LVU183
 828 0018 002B     		cmp	r3, #0
 829 001a 74D0     		beq	.L46
 267:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 268:X-CUBE-AI/App/app_x-cube-ai.c **** 
 269:X-CUBE-AI/App/app_x-cube-ai.c ****             if ((anomalydetector_info.n_inputs != 1) || (anomalydetector_info.n_outputs != 1))
 830              		.loc 1 269 13 is_stmt 1 view .LVU184
 831              		.loc 1 269 54 is_stmt 0 view .LVU185
 832 001c 434B     		ldr	r3, .L61+16
 833 001e 1B6B     		ldr	r3, [r3, #48]
 834              		.loc 1 269 16 view .LVU186
 835 0020 B3F1011F 		cmp	r3, #65537
 836 0024 09D0     		beq	.L47
 837              	.LBB7:
 270:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 271:X-CUBE-AI/App/app_x-cube-ai.c ****                 ai_error err = {AI_ERROR_INVALID_PARAM, AI_ERROR_CODE_OUT_OF_RANGE};
 838              		.loc 1 271 17 is_stmt 1 view .LVU187
 839              		.loc 1 271 26 is_stmt 0 view .LVU188
 840 0026 0020     		movs	r0, #0
 841              	.LVL79:
 842              		.loc 1 271 26 view .LVU189
 843 0028 1423     		movs	r3, #20
 844 002a 63F30700 		bfi	r0, r3, #0, #8
 845              	.LVL80:
 846              		.loc 1 271 26 view .LVU190
 847 002e 2023     		movs	r3, #32
 848 0030 63F31F20 		bfi	r0, r3, #8, #24
 272:X-CUBE-AI/App/app_x-cube-ai.c ****                 ai_log_err(err, "template code should be updated\r\n to support a model with multip
 849              		.loc 1 272 17 is_stmt 1 view .LVU191
 850 0034 3E49     		ldr	r1, .L61+20
 851 0036 FFF7FEFF 		bl	ai_log_err
 852              	.LVL81:
 853              	.L47:
 854              		.loc 1 272 17 is_stmt 0 view .LVU192
 855              	.LBE7:
 273:X-CUBE-AI/App/app_x-cube-ai.c ****                 return;
 274:X-CUBE-AI/App/app_x-cube-ai.c ****             }
 275:X-CUBE-AI/App/app_x-cube-ai.c **** 
 276:X-CUBE-AI/App/app_x-cube-ai.c ****             /* 1 - Set the I/O data buffer */
 277:X-CUBE-AI/App/app_x-cube-ai.c **** 
 278:X-CUBE-AI/App/app_x-cube-ai.c **** #if AI_ANOMALYDETECTOR_INPUTS_IN_ACTIVATIONS
 279:X-CUBE-AI/App/app_x-cube-ai.c ****             in_data = anomalydetector_info.inputs[0].data;
 280:X-CUBE-AI/App/app_x-cube-ai.c **** #else
 281:X-CUBE-AI/App/app_x-cube-ai.c ****         in_data = in_data_s;
 856              		.loc 1 281 9 is_stmt 1 view .LVU193
 282:X-CUBE-AI/App/app_x-cube-ai.c **** #endif
 283:X-CUBE-AI/App/app_x-cube-ai.c **** 
 284:X-CUBE-AI/App/app_x-cube-ai.c **** #if AI_ANOMALYDETECTOR_OUTPUTS_IN_ACTIVATIONS
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 23


 285:X-CUBE-AI/App/app_x-cube-ai.c ****             out_data = anomalydetector_info.outputs[0].data;
 286:X-CUBE-AI/App/app_x-cube-ai.c **** #else
 287:X-CUBE-AI/App/app_x-cube-ai.c ****         out_data = out_data_s;
 857              		.loc 1 287 9 view .LVU194
 288:X-CUBE-AI/App/app_x-cube-ai.c **** #endif
 289:X-CUBE-AI/App/app_x-cube-ai.c **** 
 290:X-CUBE-AI/App/app_x-cube-ai.c ****             if ((!in_data) || (!out_data))
 858              		.loc 1 290 13 view .LVU195
 291:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 292:X-CUBE-AI/App/app_x-cube-ai.c ****                 printf("TEMPLATE - I/O buffers are invalid\r\n");
 293:X-CUBE-AI/App/app_x-cube-ai.c ****                 return;
 294:X-CUBE-AI/App/app_x-cube-ai.c ****             }
 295:X-CUBE-AI/App/app_x-cube-ai.c **** 
 296:X-CUBE-AI/App/app_x-cube-ai.c ****             HAL_UART_Transmit(&huart2, (uint8_t *)"Data arrays correctly initialized!\n", 35, 100);
 859              		.loc 1 296 13 view .LVU196
 860 003a 6423     		movs	r3, #100
 861 003c 2322     		movs	r2, #35
 862 003e 3D49     		ldr	r1, .L61+24
 863 0040 3748     		ldr	r0, .L61+4
 864 0042 FFF7FEFF 		bl	HAL_UART_Transmit
 865              	.LVL82:
 866 0046 28E0     		b	.L56
 867              	.LVL83:
 868              	.L59:
 297:X-CUBE-AI/App/app_x-cube-ai.c ****             /* 2 - main loop */
 298:X-CUBE-AI/App/app_x-cube-ai.c ****             do
 299:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 300:X-CUBE-AI/App/app_x-cube-ai.c ****                 /* 1 - acquire and pre-process input data */
 301:X-CUBE-AI/App/app_x-cube-ai.c ****                 HAL_UART_Transmit(&huart2, (uint8_t *)"Acquiring data!\n", 16, 100);
 302:X-CUBE-AI/App/app_x-cube-ai.c ****                 res = acquire_and_process_data(in_data);
 303:X-CUBE-AI/App/app_x-cube-ai.c ****                 /* 2 - process the data - call inference engine */
 304:X-CUBE-AI/App/app_x-cube-ai.c ****                 if (res == 0){
 305:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Infering result!\n", 17, 100);
 869              		.loc 1 305 21 view .LVU197
 870 0048 6423     		movs	r3, #100
 871 004a 1122     		movs	r2, #17
 872 004c 3A49     		ldr	r1, .L61+28
 873 004e 3448     		ldr	r0, .L61+4
 874              	.LVL84:
 875              		.loc 1 305 21 is_stmt 0 view .LVU198
 876 0050 FFF7FEFF 		bl	HAL_UART_Transmit
 877              	.LVL85:
 306:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = ai_run(in_data, out_data);
 878              		.loc 1 306 21 is_stmt 1 view .LVU199
 879              		.loc 1 306 27 is_stmt 0 view .LVU200
 880 0054 3949     		ldr	r1, .L61+32
 881 0056 3A48     		ldr	r0, .L61+36
 882 0058 FFF7FEFF 		bl	ai_run
 883              	.LVL86:
 884 005c 0446     		mov	r4, r0
 885              	.LVL87:
 886              		.loc 1 306 27 view .LVU201
 887 005e 28E0     		b	.L48
 888              	.L60:
 307:X-CUBE-AI/App/app_x-cube-ai.c ****                 }
 308:X-CUBE-AI/App/app_x-cube-ai.c ****                 /* 3- post-process the predictions */
 309:X-CUBE-AI/App/app_x-cube-ai.c ****                 if (res == 0){
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 24


 310:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Post processing!\n", 17, 100);
 889              		.loc 1 310 21 is_stmt 1 view .LVU202
 890 0060 6423     		movs	r3, #100
 891 0062 1122     		movs	r2, #17
 892 0064 3749     		ldr	r1, .L61+40
 893 0066 2E48     		ldr	r0, .L61+4
 894              	.LVL88:
 895              		.loc 1 310 21 is_stmt 0 view .LVU203
 896 0068 FFF7FEFF 		bl	HAL_UART_Transmit
 897              	.LVL89:
 311:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = post_process(out_data);
 898              		.loc 1 311 21 is_stmt 1 view .LVU204
 899              		.loc 1 311 27 is_stmt 0 view .LVU205
 900 006c 3348     		ldr	r0, .L61+32
 901 006e FFF7FEFF 		bl	post_process
 902              	.LVL90:
 903 0072 0446     		mov	r4, r0
 904              	.LVL91:
 905              		.loc 1 311 27 view .LVU206
 906 0074 1FE0     		b	.L49
 907              	.L55:
 312:X-CUBE-AI/App/app_x-cube-ai.c ****                 }
 313:X-CUBE-AI/App/app_x-cube-ai.c ****                 switch (res)
 314:X-CUBE-AI/App/app_x-cube-ai.c ****                 {
 315:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 0:
 316:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Error_1\n", 8, 100);
 908              		.loc 1 316 21 is_stmt 1 view .LVU207
 909 0076 6423     		movs	r3, #100
 910 0078 0822     		movs	r2, #8
 911 007a 3349     		ldr	r1, .L61+44
 912 007c 2848     		ldr	r0, .L61+4
 913              	.LVL92:
 914              		.loc 1 316 21 is_stmt 0 view .LVU208
 915 007e FFF7FEFF 		bl	HAL_UART_Transmit
 916              	.LVL93:
 317:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 917              		.loc 1 317 21 is_stmt 1 view .LVU209
 318:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 918              		.loc 1 318 21 view .LVU210
 919              	.L50:
 319:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 1:
 320:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Error_2\n", 8, 100);
 321:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 322:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 323:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 2:
 324:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Normal\n", 7, 100);
 325:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 326:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 327:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 3:
 328:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Off\n", 4, 100);
 329:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 330:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 331:X-CUBE-AI/App/app_x-cube-ai.c ****                 default:
 332:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = -1;
 333:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 334:X-CUBE-AI/App/app_x-cube-ai.c ****                 }
 335:X-CUBE-AI/App/app_x-cube-ai.c ****                 HAL_UART_Transmit(&huart2, (uint8_t *)"Inference completed, next round coming up!\n
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 25


 920              		.loc 1 335 17 view .LVU211
 921 0082 6423     		movs	r3, #100
 922 0084 2B22     		movs	r2, #43
 923 0086 3149     		ldr	r1, .L61+48
 924 0088 2548     		ldr	r0, .L61+4
 925 008a FFF7FEFF 		bl	HAL_UART_Transmit
 926              	.LVL94:
 336:X-CUBE-AI/App/app_x-cube-ai.c ****                 HAL_Delay(1000);
 927              		.loc 1 336 17 view .LVU212
 928 008e 4FF47A70 		mov	r0, #1000
 929 0092 FFF7FEFF 		bl	HAL_Delay
 930              	.LVL95:
 337:X-CUBE-AI/App/app_x-cube-ai.c ****             } while (res == 0);
 931              		.loc 1 337 21 view .LVU213
 932              		.loc 1 337 13 is_stmt 0 view .LVU214
 933 0096 002C     		cmp	r4, #0
 934 0098 35D1     		bne	.L46
 935              	.LVL96:
 936              	.L56:
 298:X-CUBE-AI/App/app_x-cube-ai.c ****             {
 937              		.loc 1 298 13 is_stmt 1 view .LVU215
 301:X-CUBE-AI/App/app_x-cube-ai.c ****                 res = acquire_and_process_data(in_data);
 938              		.loc 1 301 17 view .LVU216
 939 009a 6423     		movs	r3, #100
 940 009c 1022     		movs	r2, #16
 941 009e 2C49     		ldr	r1, .L61+52
 942 00a0 1F48     		ldr	r0, .L61+4
 943 00a2 FFF7FEFF 		bl	HAL_UART_Transmit
 944              	.LVL97:
 302:X-CUBE-AI/App/app_x-cube-ai.c ****                 /* 2 - process the data - call inference engine */
 945              		.loc 1 302 17 view .LVU217
 302:X-CUBE-AI/App/app_x-cube-ai.c ****                 /* 2 - process the data - call inference engine */
 946              		.loc 1 302 23 is_stmt 0 view .LVU218
 947 00a6 2648     		ldr	r0, .L61+36
 948 00a8 FFF7FEFF 		bl	acquire_and_process_data
 949              	.LVL98:
 304:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Infering result!\n", 17, 100);
 950              		.loc 1 304 17 is_stmt 1 view .LVU219
 304:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Infering result!\n", 17, 100);
 951              		.loc 1 304 20 is_stmt 0 view .LVU220
 952 00ac 0446     		mov	r4, r0
 953 00ae 0028     		cmp	r0, #0
 954 00b0 CAD0     		beq	.L59
 955              	.L48:
 309:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Post processing!\n", 17, 100);
 956              		.loc 1 309 17 is_stmt 1 view .LVU221
 309:X-CUBE-AI/App/app_x-cube-ai.c ****                     HAL_UART_Transmit(&huart2, (uint8_t *)"Post processing!\n", 17, 100);
 957              		.loc 1 309 20 is_stmt 0 view .LVU222
 958 00b2 002C     		cmp	r4, #0
 959 00b4 D4D0     		beq	.L60
 960              	.L49:
 313:X-CUBE-AI/App/app_x-cube-ai.c ****                 {
 961              		.loc 1 313 17 is_stmt 1 view .LVU223
 962 00b6 032C     		cmp	r4, #3
 963 00b8 22D8     		bhi	.L57
 964 00ba 01A3     		adr	r3, .L52
 965 00bc 53F824F0 		ldr	pc, [r3, r4, lsl #2]
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 26


 966              		.p2align 2
 967              	.L52:
 968 00c0 77000000 		.word	.L55+1
 969 00c4 D1000000 		.word	.L54+1
 970 00c8 E1000000 		.word	.L53+1
 971 00cc F1000000 		.word	.L51+1
 972              		.p2align 1
 973              	.L54:
 320:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 974              		.loc 1 320 21 view .LVU224
 975 00d0 6423     		movs	r3, #100
 976 00d2 0822     		movs	r2, #8
 977 00d4 1F49     		ldr	r1, .L61+56
 978 00d6 1248     		ldr	r0, .L61+4
 979              	.LVL99:
 320:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 980              		.loc 1 320 21 is_stmt 0 view .LVU225
 981 00d8 FFF7FEFF 		bl	HAL_UART_Transmit
 982              	.LVL100:
 321:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 983              		.loc 1 321 21 is_stmt 1 view .LVU226
 322:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 2:
 984              		.loc 1 322 21 view .LVU227
 321:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 985              		.loc 1 321 25 is_stmt 0 view .LVU228
 986 00dc 0024     		movs	r4, #0
 322:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 2:
 987              		.loc 1 322 21 view .LVU229
 988 00de D0E7     		b	.L50
 989              	.LVL101:
 990              	.L53:
 324:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 991              		.loc 1 324 21 is_stmt 1 view .LVU230
 992 00e0 6423     		movs	r3, #100
 993 00e2 0722     		movs	r2, #7
 994 00e4 1C49     		ldr	r1, .L61+60
 995 00e6 0E48     		ldr	r0, .L61+4
 996              	.LVL102:
 324:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 997              		.loc 1 324 21 is_stmt 0 view .LVU231
 998 00e8 FFF7FEFF 		bl	HAL_UART_Transmit
 999              	.LVL103:
 325:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 1000              		.loc 1 325 21 is_stmt 1 view .LVU232
 326:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 3:
 1001              		.loc 1 326 21 view .LVU233
 325:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 1002              		.loc 1 325 25 is_stmt 0 view .LVU234
 1003 00ec 0024     		movs	r4, #0
 326:X-CUBE-AI/App/app_x-cube-ai.c ****                 case 3:
 1004              		.loc 1 326 21 view .LVU235
 1005 00ee C8E7     		b	.L50
 1006              	.LVL104:
 1007              	.L51:
 328:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 1008              		.loc 1 328 21 is_stmt 1 view .LVU236
 1009 00f0 6423     		movs	r3, #100
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 27


 1010 00f2 0422     		movs	r2, #4
 1011 00f4 1949     		ldr	r1, .L61+64
 1012 00f6 0A48     		ldr	r0, .L61+4
 1013              	.LVL105:
 328:X-CUBE-AI/App/app_x-cube-ai.c ****                     res = 0;
 1014              		.loc 1 328 21 is_stmt 0 view .LVU237
 1015 00f8 FFF7FEFF 		bl	HAL_UART_Transmit
 1016              	.LVL106:
 329:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 1017              		.loc 1 329 21 is_stmt 1 view .LVU238
 330:X-CUBE-AI/App/app_x-cube-ai.c ****                 default:
 1018              		.loc 1 330 21 view .LVU239
 329:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 1019              		.loc 1 329 25 is_stmt 0 view .LVU240
 1020 00fc 0024     		movs	r4, #0
 330:X-CUBE-AI/App/app_x-cube-ai.c ****                 default:
 1021              		.loc 1 330 21 view .LVU241
 1022 00fe C0E7     		b	.L50
 1023              	.LVL107:
 1024              	.L57:
 329:X-CUBE-AI/App/app_x-cube-ai.c ****                     break;
 1025              		.loc 1 329 25 view .LVU242
 1026 0100 4FF0FF34 		mov	r4, #-1
 1027 0104 BDE7     		b	.L50
 1028              	.LVL108:
 1029              	.L46:
 1030              	.LBB8:
 338:X-CUBE-AI/App/app_x-cube-ai.c ****         }
 339:X-CUBE-AI/App/app_x-cube-ai.c **** 
 340:X-CUBE-AI/App/app_x-cube-ai.c ****         if (res)
 341:X-CUBE-AI/App/app_x-cube-ai.c ****         {
 342:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_error err = {AI_ERROR_INVALID_STATE, AI_ERROR_CODE_NETWORK};
 1031              		.loc 1 342 13 is_stmt 1 discriminator 2 view .LVU243
 1032              		.loc 1 342 22 is_stmt 0 discriminator 2 view .LVU244
 1033 0106 0020     		movs	r0, #0
 1034              	.LVL109:
 1035              		.loc 1 342 22 discriminator 2 view .LVU245
 1036 0108 1123     		movs	r3, #17
 1037 010a 63F30700 		bfi	r0, r3, #0, #8
 1038              	.LVL110:
 1039              		.loc 1 342 22 discriminator 2 view .LVU246
 1040 010e 1023     		movs	r3, #16
 1041 0110 63F31F20 		bfi	r0, r3, #8, #24
 343:X-CUBE-AI/App/app_x-cube-ai.c ****             ai_log_err(err, "Process has FAILED");
 1042              		.loc 1 343 13 is_stmt 1 discriminator 2 view .LVU247
 1043 0114 1249     		ldr	r1, .L61+68
 1044 0116 FFF7FEFF 		bl	ai_log_err
 1045              	.LVL111:
 1046              	.L62:
 1047              		.loc 1 343 13 is_stmt 0 discriminator 2 view .LVU248
 1048 011a 00BF     		.align	2
 1049              	.L61:
 1050 011c 00000000 		.word	.LC9
 1051 0120 00000000 		.word	huart2
 1052 0124 1C000000 		.word	.LC10
 1053 0128 00000000 		.word	.LANCHOR0
 1054 012c 00000000 		.word	.LANCHOR1
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 28


 1055 0130 38000000 		.word	.LC11
 1056 0134 80000000 		.word	.LC12
 1057 0138 B8000000 		.word	.LC14
 1058 013c 00000000 		.word	.LANCHOR4
 1059 0140 00000000 		.word	.LANCHOR3
 1060 0144 CC000000 		.word	.LC15
 1061 0148 E0000000 		.word	.LC16
 1062 014c 08010000 		.word	.LC20
 1063 0150 A4000000 		.word	.LC13
 1064 0154 EC000000 		.word	.LC17
 1065 0158 F8000000 		.word	.LC18
 1066 015c 00010000 		.word	.LC19
 1067 0160 34010000 		.word	.LC21
 1068              	.LBE8:
 1069              		.cfi_endproc
 1070              	.LFE139:
 1072              		.section	.bss.activations,"aw",%nobits
 1073              		.align	2
 1074              		.set	.LANCHOR2,. + 0
 1077              	activations:
 1078 0000 00000000 		.space	1296
 1078      00000000 
 1078      00000000 
 1078      00000000 
 1078      00000000 
 1079              		.section	.bss.anomalydetector,"aw",%nobits
 1080              		.align	2
 1081              		.set	.LANCHOR0,. + 0
 1084              	anomalydetector:
 1085 0000 00000000 		.space	4
 1086              		.section	.bss.anomalydetector_info,"aw",%nobits
 1087              		.align	2
 1088              		.set	.LANCHOR1,. + 0
 1091              	anomalydetector_info:
 1092 0000 00000000 		.space	116
 1092      00000000 
 1092      00000000 
 1092      00000000 
 1092      00000000 
 1093              		.section	.bss.in_data_s,"aw",%nobits
 1094              		.align	2
 1095              		.set	.LANCHOR3,. + 0
 1098              	in_data_s:
 1099 0000 00000000 		.space	300
 1099      00000000 
 1099      00000000 
 1099      00000000 
 1099      00000000 
 1100              		.section	.bss.out_data_s,"aw",%nobits
 1101              		.align	2
 1102              		.set	.LANCHOR4,. + 0
 1105              	out_data_s:
 1106 0000 00000000 		.space	16
 1106      00000000 
 1106      00000000 
 1106      00000000 
 1107              		.text
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 29


 1108              	.Letext0:
 1109              		.file 2 "c:\\gnu\\gnu_arm_embedded_toolchain\\10-2020-q4-major\\arm-none-eabi\\include\\machine\\_
 1110              		.file 3 "c:\\gnu\\gnu_arm_embedded_toolchain\\10-2020-q4-major\\arm-none-eabi\\include\\sys\\_stdi
 1111              		.file 4 "Middlewares/ST/AI/Inc/ai_platform.h"
 1112              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 1113              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1114              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1115              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 1116              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1117              		.file 10 "Core/Inc/adxl345.h"
 1118              		.file 11 "Core/Inc/i2c.h"
 1119              		.file 12 "Core/Inc/usart.h"
 1120              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1121              		.file 14 "X-CUBE-AI/App/anomalydetector_data.h"
 1122              		.file 15 "c:\\gnu\\gnu_arm_embedded_toolchain\\10-2020-q4-major\\arm-none-eabi\\include\\stdio.h"
 1123              		.file 16 "c:\\gnu\\gnu_arm_embedded_toolchain\\10-2020-q4-major\\arm-none-eabi\\include\\string.h"
 1124              		.file 17 "X-CUBE-AI/App/anomalydetector.h"
 1125              		.file 18 "<built-in>"
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 app_x-cube-ai.c
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:18     .rodata.ai_log_err.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:26     .text.ai_log_err:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:33     .text.ai_log_err:00000000 ai_log_err
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:80     .text.ai_log_err:0000001c $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:86     .rodata.ai_boostrap.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:96     .text.ai_boostrap:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:102    .text.ai_boostrap:00000000 ai_boostrap
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:220    .text.ai_boostrap:00000090 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:231    .rodata.ai_run.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:235    .text.ai_run:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:241    .text.ai_run:00000000 ai_run
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:308    .text.ai_run:0000002c $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:318    .rodata.acquire_and_process_data.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:322    .text.acquire_and_process_data:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:329    .text.acquire_and_process_data:00000000 acquire_and_process_data
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:532    .text.acquire_and_process_data:00000108 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:541    .rodata.post_process.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:546    .text.post_process:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:553    .text.post_process:00000000 post_process
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:700    .text.post_process:000000a0 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:707    .rodata.MX_X_CUBE_AI_Init.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:711    .text.MX_X_CUBE_AI_Init:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:718    .text.MX_X_CUBE_AI_Init:00000000 MX_X_CUBE_AI_Init
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:744    .text.MX_X_CUBE_AI_Init:00000014 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:750    .rodata.MX_X_CUBE_AI_Process.str1.4:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:791    .text.MX_X_CUBE_AI_Process:00000000 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:798    .text.MX_X_CUBE_AI_Process:00000000 MX_X_CUBE_AI_Process
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:968    .text.MX_X_CUBE_AI_Process:000000c0 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:972    .text.MX_X_CUBE_AI_Process:000000d0 $t
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1050   .text.MX_X_CUBE_AI_Process:0000011c $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1073   .bss.activations:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1077   .bss.activations:00000000 activations
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1080   .bss.anomalydetector:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1084   .bss.anomalydetector:00000000 anomalydetector
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1087   .bss.anomalydetector_info:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1091   .bss.anomalydetector_info:00000000 anomalydetector_info
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1094   .bss.in_data_s:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1098   .bss.in_data_s:00000000 in_data_s
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1101   .bss.out_data_s:00000000 $d
C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s:1105   .bss.out_data_s:00000000 out_data_s

UNDEFINED SYMBOLS
printf
ai_anomalydetector_create
ai_anomalydetector_init
ai_anomalydetector_get_info
ai_anomalydetector_get_error
ai_anomalydetector_run
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
sprintf
strlen
HAL_UART_Transmit
HAL_Delay
ARM GAS  C:\Users\zacfi\AppData\Local\Temp\ccmx9Mz1.s 			page 31


getAccelerations
huart2
hi2c1
puts
ai_anomalydetector_data_weights_get
